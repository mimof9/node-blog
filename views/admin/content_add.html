{% extends './layout.html' %}

{% block main %}

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<ol class="breadcrumb">
    <li><a href="/">管理首页</a></li>
    <li><span>添加文章</span></li>
</ol>

<h3>添加文章</h3>

<form role="form" method="post">
    <div class="form-group">
        <label for="category">分类：</label>
        <select name="category" id="category" class="form-control">
            {% for category in categories %}
            <option value="{{category.id}}">{{category.name}}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="title">标题：</label>
        <input name="title" type="text" class="form-control" id="title" placeholder="请输入标题">
    </div>

    <div class="form-group">
        <label for="description">简介：</label>
        <textarea name="description" id="description" cols="30" rows="5"
                  class="form-control" placeholder="请输入简介"></textarea>
    </div>

    <div class="form-group">
        <label for="content">内容：</label>
        <textarea name="content" id="content" cols="30" rows="10"
                  class="form-control" placeholder="请输入内容"></textarea>
    </div>

    <div class="form-group">
        <label for="content">展示内容：</label>
        <div id="showContent"></div>
    </div>

    <button type="submit" class="btn btn-default">提交</button>
</form>

<script type="text/javascript">
    $('#content').on('input', function() {
        // console.log(this.value)
        $('#showContent').html(marked(this.value))
    })
</script>

{% endblock %}
